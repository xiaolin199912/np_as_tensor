# np_as_tensor

> 作者：林泽毅
>
> 创建时间：2021-9-24
>
> 更新时间：2021-9-24
>
> 版本:V1.0.0

## Origin

模型云端推理部署时，经常会遇到环境的包大小限制问题。

比如腾讯云的SCF服务，便限制了一个SCF仅能拥有500Mb的容量。

那么问题来了——一个cpu版本torch需要700Mb的大小，也就是说，用torch做推理是行不通的。

于是我修改了方案，将torch模型转为onnx，用onnxruntime来推理，不仅性能优化了不少，包大小也仅需要不到20Mb。

但是接下来还有一个问题：往往将tensor输入模型推理的过程中，存在一系列的变换=>比如torchvision中的transform模块里的ToTensor, Normalize等，这些转换仍然需要torch的支持，即没有真正意义上的去torch化——毕竟我们的目的就是让整个代码无需安装torch。

这个repo主要就是针对常用的几个tensor转换用numpy进行简单重写。



## Plan

- [ ] 打包上传至PyPI
- [ ] 增加对于非限定输入的告警提示
- [ ] 遇到问题迭代代码

























